@import "tailwindcss";

@theme {
	/* Dynamic theme colors via CSS custom properties */
	--color-ctp-crust: var(--ctp-crust, #11111b);
	--color-ctp-base: var(--ctp-base, #1e1e2e);
	--color-ctp-mantle: var(--ctp-mantle, #181825);
	--color-ctp-surface0: var(--ctp-surface0, #313244);
	--color-ctp-surface1: var(--ctp-surface1, #45475a);
	--color-ctp-surface2: var(--ctp-surface2, #585b70);
	--color-ctp-overlay0: var(--ctp-overlay0, #6c7086);
	--color-ctp-overlay1: var(--ctp-overlay1, #7f849c);
	--color-ctp-subtext0: var(--ctp-subtext0, #a6adc8);
	--color-ctp-subtext1: var(--ctp-subtext1, #bac2de);
	--color-ctp-text: var(--ctp-text, #cdd6f4);
	--color-ctp-lavender: var(--ctp-lavender, #b4befe);
	--color-ctp-blue: var(--ctp-blue, #89b4fa);
	--color-ctp-sapphire: var(--ctp-sapphire, #74c7ec);
	--color-ctp-teal: var(--ctp-teal, #94e2d5);
	--color-ctp-green: var(--ctp-green, #a6e3a1);
	--color-ctp-yellow: var(--ctp-yellow, #f9e2af);
	--color-ctp-peach: var(--ctp-peach, #fab387);
	--color-ctp-red: var(--ctp-red, #f38ba8);
	--color-ctp-mauve: var(--ctp-mauve, #cba6f7);
	--color-ctp-pink: var(--ctp-pink, #f5c2e7);

	--font-sans:
		"Inter", ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
		sans-serif;
	--font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, monospace;
	--radius-xl: 16px;
	--radius-lg: 12px;
	--radius-md: 8px;
	--radius-sm: 6px;
	--radius-xs: 4px;
}

/* ─── Base ─────────────────────────────────────────────── */
@layer base {
	html {
		color-scheme: dark;

		/* NORMAL MODE - Layout spacing tokens */
		--space-px: 1px;
		--space-0: 0px;
		--space-xs: 4px;
		--space-sm: 6px;
		--space-md: 10px;
		--space-lg: 14px;
		--space-xl: 18px;
		--space-2xl: 24px;
		--space-3xl: 32px;
		--space-4xl: 48px;
		
		/* Sizes - Smaller sidebar in normal mode */
		--header-h: 48px;
		--sidebar-w: 220px;
		--dock-h: 40px;
		
		/* Font sizes */
		--text-xs: 10px;
		--text-sm: 12px;
		--text-base: 14px;
		--text-lg: 16px;
		
		/* Component sizes */
		--btn-h-sm: 28px;
		--btn-h-md: 36px;
		--btn-h-lg: 44px;
		--input-h: 40px;
		--badge-h: 20px;
	}

	/* COMPACT MODE - Much tighter spacing */
	html.compact {
		--space-px: 1px;
		--space-0: 0px;
		--space-xs: 1px;
		--space-sm: 2px;
		--space-md: 4px;
		--space-lg: 6px;
		--space-xl: 8px;
		--space-2xl: 12px;
		--space-3xl: 16px;
		--space-4xl: 24px;
		
		/* Compact sizes */
		--header-h: 36px;
		--sidebar-w: 200px;
		--dock-h: 32px;
		
		/* Smaller font sizes */
		--text-xs: 9px;
		--text-sm: 10px;
		--text-base: 12px;
		--text-lg: 13px;
		
		/* Compact component sizes */
		--btn-h-sm: 20px;
		--btn-h-md: 26px;
		--btn-h-lg: 32px;
		--input-h: 28px;
		--badge-h: 16px;
	}

	body {
		font-family: var(--font-sans);
		background:
			radial-gradient(
				ellipse 1200px 800px at 5% -5%,
				color-mix(in srgb, var(--color-ctp-lavender) 8%, transparent),
				transparent 60%
			),
			radial-gradient(
				ellipse 1000px 600px at 95% -5%,
				color-mix(in srgb, var(--color-ctp-blue) 6%, transparent),
				transparent 50%
			),
			radial-gradient(
				ellipse 800px 500px at 50% 110%,
				color-mix(in srgb, var(--color-ctp-mauve) 4%, transparent),
				transparent 60%
			),
			linear-gradient(180deg, var(--color-ctp-crust), var(--color-ctp-base));
		color: var(--color-ctp-text);
		min-height: 100vh;
		overflow: hidden;
		font-size: var(--text-base);
		line-height: 1.5;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		letter-spacing: -0.01em;
	}

	/* Compact mode body adjustments */
	html.compact body {
		line-height: 1.3;
		letter-spacing: -0.02em;
	}

	/* Enhanced scrollbar */
	::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}
	
	html.compact ::-webkit-scrollbar {
		width: 4px;
		height: 4px;
	}
	
	::-webkit-scrollbar-track {
		background: transparent;
	}
	::-webkit-scrollbar-thumb {
		background: color-mix(
			in srgb,
			var(--color-ctp-surface1) 50%,
			transparent
		);
		border-radius: 99px;
		border: 1px solid transparent;
		background-clip: padding-box;
	}
	::-webkit-scrollbar-thumb:hover {
		background: color-mix(
			in srgb,
			var(--color-ctp-overlay0) 60%,
			transparent
		);
	}
	* {
		scrollbar-width: thin;
		scrollbar-color: color-mix(
				in srgb,
				var(--color-ctp-surface1) 50%,
				transparent
			)
			transparent;
	}

	::selection {
		background: color-mix(
			in srgb,
			var(--color-ctp-lavender) 25%,
			transparent
		);
		color: var(--color-ctp-text);
	}
}

/* ─── Compact Mode Utilities ───────────────────────────── */
@layer utilities {
	/* Spacing utilities that respect compact mode */
	.gap-mode {
		gap: var(--space-md);
	}
	.gap-mode-sm {
		gap: var(--space-sm);
	}
	.gap-mode-lg {
		gap: var(--space-lg);
	}
	
	.p-mode {
		padding: var(--space-md);
	}
	.px-mode {
		padding-left: var(--space-md);
		padding-right: var(--space-md);
	}
	.py-mode {
		padding-top: var(--space-md);
		padding-bottom: var(--space-md);
	}
	
	.m-mode {
		margin: var(--space-md);
	}
	
	/* Compact text sizes */
	.text-mode-xs {
		font-size: var(--text-xs);
	}
	.text-mode-sm {
		font-size: var(--text-sm);
	}
	.text-mode-base {
		font-size: var(--text-base);
	}
	.text-mode-lg {
		font-size: var(--text-lg);
	}
	
	/* Compact heights */
	.h-mode-header {
		height: var(--header-h);
	}
	.h-mode-btn-sm {
		height: var(--btn-h-sm);
	}
	.h-mode-btn-md {
		height: var(--btn-h-md);
	}
	.h-mode-input {
		height: var(--input-h);
	}
}

/* ─── Keyframes ────────────────────────────────────────── */
@keyframes slideUp {
	from {
		transform: translateY(8px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

@keyframes slideDown {
	from {
		transform: translateY(0);
		opacity: 1;
	}
	to {
		transform: translateY(8px);
		opacity: 0;
	}
}

@keyframes slideInLeft {
	from {
		transform: translateX(-12px);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes slideInRight {
	from {
		transform: translateX(12px);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes fadeIn {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes scaleIn {
	from {
		transform: scale(0.96);
		opacity: 0;
	}
	to {
		transform: scale(1);
		opacity: 1;
	}
}

@keyframes scaleOut {
	from {
		transform: scale(1);
		opacity: 1;
	}
	to {
		transform: scale(0.96);
		opacity: 0;
	}
}

@keyframes spin {
	to {
		transform: rotate(360deg);
	}
}

@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

@keyframes pulse-soft {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

@keyframes glow-pulse {
	0%,
	100% {
		box-shadow: 0 0 8px
			color-mix(in srgb, var(--color-ctp-lavender) 15%, transparent);
	}
	50% {
		box-shadow: 0 0 16px
			color-mix(in srgb, var(--color-ctp-lavender) 30%, transparent);
	}
}

@keyframes expand {
	from {
		max-height: 0;
		opacity: 0;
	}
	to {
		max-height: 500px;
		opacity: 1;
	}
}

@keyframes collapse {
	from {
		max-height: 500px;
		opacity: 1;
	}
	to {
		max-height: 0;
		opacity: 0;
	}
}

@keyframes bounce-subtle {
	0%, 100% {
		transform: translateY(0);
	}
	50% {
		transform: translateY(-2px);
	}
}

@keyframes slide-in-bottom {
	from {
		transform: translateY(100%);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

/* ─── Custom animation / transition utilities ──────────── */
@layer utilities {
	.animate-slide-up {
		animation: slideUp 250ms cubic-bezier(0.16, 1, 0.3, 1);
	}
	.animate-slide-in-left {
		animation: slideInLeft 250ms cubic-bezier(0.16, 1, 0.3, 1);
	}
	.animate-slide-in-right {
		animation: slideInRight 250ms cubic-bezier(0.16, 1, 0.3, 1);
	}
	.animate-scale-in {
		animation: scaleIn 200ms cubic-bezier(0.16, 1, 0.3, 1);
	}
	.animate-scale-out {
		animation: scaleOut 150ms cubic-bezier(0.4, 0, 1, 1);
	}
	.animate-fade-in {
		animation: fadeIn 200ms ease;
	}
	.animate-spin-slow {
		animation: spin 0.8s linear infinite;
	}
	.animate-shimmer {
		background: linear-gradient(
			90deg,
			color-mix(in srgb, var(--color-ctp-lavender) 3%, transparent),
			color-mix(in srgb, var(--color-ctp-lavender) 12%, transparent),
			color-mix(in srgb, var(--color-ctp-lavender) 3%, transparent)
		);
		background-size: 200% 100%;
		animation: shimmer 2s ease infinite;
	}
	.animate-pulse-soft {
		animation: pulse-soft 2.5s ease-in-out infinite;
	}
	.animate-glow {
		animation: glow-pulse 3s ease-in-out infinite;
	}
	.animate-expand {
		animation: expand 300ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
		overflow: hidden;
	}
	.animate-collapse {
		animation: collapse 250ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
		overflow: hidden;
	}
	.animate-bounce-subtle {
		animation: bounce-subtle 2s ease-in-out infinite;
	}
	.animate-slide-in-bottom {
		animation: slide-in-bottom 300ms cubic-bezier(0.16, 1, 0.3, 1);
	}

	/* Glass effect utilities */
	.glass {
		background: color-mix(in srgb, var(--color-ctp-mantle) 70%, transparent);
		backdrop-filter: blur(20px) saturate(1.5);
		-webkit-backdrop-filter: blur(20px) saturate(1.5);
	}

	.glass-strong {
		background: color-mix(in srgb, var(--color-ctp-mantle) 85%, transparent);
		backdrop-filter: blur(24px) saturate(1.8);
		-webkit-backdrop-filter: blur(24px) saturate(1.8);
	}

	.glass-subtle {
		background: color-mix(in srgb, var(--color-ctp-mantle) 40%, transparent);
		backdrop-filter: blur(12px) saturate(1.2);
		-webkit-backdrop-filter: blur(12px) saturate(1.2);
	}

	/* Hover lift effect */
	.hover-lift {
		transition: transform 150ms ease, box-shadow 150ms ease;
	}
	.hover-lift:hover {
		transform: translateY(-1px);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
	}

	/* Focus ring */
	.focus-ring {
		@apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ctp-lavender/30 focus-visible:ring-offset-2 focus-visible:ring-offset-ctp-crust;
	}
}

/* ─── Method badge colors ──────────────────────────────── */
.method-get {
	@apply text-ctp-green bg-ctp-green/10 border-ctp-green/20;
}
.method-post {
	@apply text-ctp-blue bg-ctp-blue/10 border-ctp-blue/20;
}
.method-put {
	@apply text-ctp-yellow bg-ctp-yellow/10 border-ctp-yellow/20;
}
.method-delete {
	@apply text-ctp-red bg-ctp-red/10 border-ctp-red/20;
}
.method-patch {
	@apply text-ctp-mauve bg-ctp-mauve/10 border-ctp-mauve/20;
}
